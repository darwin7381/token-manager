name = "api-gateway"
main = "src/worker.js"
compatibility_date = "2024-10-01"

# KV Namespace 綁定
[[kv_namespaces]]
binding = "TOKENS"
id = "c36cc6c8cc38473dad537a0ab016d83f"

# 環境變數配置（生產環境）
[vars]
TOKEN_MANAGER_BACKEND = "https://token.blocktempo.ai"

# 本地開發環境配置
[env.dev]
vars = { TOKEN_MANAGER_BACKEND = "http://localhost:8000" }

# 使用自定義域名配置（生產環境）
# 在 Cloudflare Dashboard → Workers → Triggers 中配置
# routes = [
#   { pattern = "api.blocktempo.ai/*", zone_name = "blocktempo.ai" }
# ]

